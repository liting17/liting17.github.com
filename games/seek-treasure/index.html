<!DOCTYPE html>
<html>
  <head>
    <title>Find the buried treasure!</title>
  </head>
  <body>
    <h1 id="heading">Find the buried treasure!</h1>
    <img id='map' width=400 height=400 src='map.jpg'>
    <p id='distance'></p>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.0.min.js">
    </script>
    <script>

    var getRondomnumber=function(size){
      return Math.floor(Math.random()*size);
    }
    var getDistance=function(event,target){
      var diffX=event.offsetX-target.x;
      var diffY=event.offsetY-target.y;
      return Math.sqrt(diffX*diffX+diffY*diffY);
    }
    var getDistancehint=function(distance){
      if(distance<10){
        return 'boiling hot!';
      }else if(distance<20){
        return 'really hot';
      }else if(distance<40){
        return 'hot';
      }else if(distance<160){
        return 'cold';
      }else if(distance<320){
      return 'really cold';
    }else {
      return 'freezing';
    }
  };
    var width=400;
    var height=400;
    var clicks=0;
    var target={
      x:getRondomnumber(width),
      y:getRondomnumber(height)
    };
    $('#map').click(function(event){
      clicks++;
      if(clicks>20){
        alert('Game over!');
      }else{
        var last=20-clicks;
        var distance=getDistance(event,target);
        var distancehint=getDistancehint(distance);
        $('#distance').text(distancehint+'还剩余'+last+'次！');
        if(distance<8){
          alert('found the treasure in'+clicks+'clicks!');
      }
        }
    });

    </script>
  </body>
</html>
